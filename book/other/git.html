<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GIT 操作总结 | 前端进阶小书</title>
    <meta name="description" content="小皮咖前端经验整理而写成的一本书">
    
    
    <link rel="preload" href="/advanced_front_end/assets/css/0.styles.713cac8f.css" as="style"><link rel="preload" href="/advanced_front_end/assets/js/app.45d63f7a.js" as="script"><link rel="preload" href="/advanced_front_end/assets/js/2.56065b10.js" as="script"><link rel="preload" href="/advanced_front_end/assets/js/32.eb644235.js" as="script"><link rel="prefetch" href="/advanced_front_end/assets/js/10.211784ae.js"><link rel="prefetch" href="/advanced_front_end/assets/js/11.c2c2a85a.js"><link rel="prefetch" href="/advanced_front_end/assets/js/12.840be601.js"><link rel="prefetch" href="/advanced_front_end/assets/js/13.0db1b494.js"><link rel="prefetch" href="/advanced_front_end/assets/js/14.62426157.js"><link rel="prefetch" href="/advanced_front_end/assets/js/15.e2bb7112.js"><link rel="prefetch" href="/advanced_front_end/assets/js/16.bd21753a.js"><link rel="prefetch" href="/advanced_front_end/assets/js/17.76b31482.js"><link rel="prefetch" href="/advanced_front_end/assets/js/18.66de6e1c.js"><link rel="prefetch" href="/advanced_front_end/assets/js/19.4a1fa73b.js"><link rel="prefetch" href="/advanced_front_end/assets/js/20.3a9bca0d.js"><link rel="prefetch" href="/advanced_front_end/assets/js/21.718c7094.js"><link rel="prefetch" href="/advanced_front_end/assets/js/22.e3ba2674.js"><link rel="prefetch" href="/advanced_front_end/assets/js/23.9f4ca2c3.js"><link rel="prefetch" href="/advanced_front_end/assets/js/24.d2213b13.js"><link rel="prefetch" href="/advanced_front_end/assets/js/25.d7dba3c7.js"><link rel="prefetch" href="/advanced_front_end/assets/js/26.352f6548.js"><link rel="prefetch" href="/advanced_front_end/assets/js/27.d5c4910c.js"><link rel="prefetch" href="/advanced_front_end/assets/js/28.9fa09fa4.js"><link rel="prefetch" href="/advanced_front_end/assets/js/29.4a5038b6.js"><link rel="prefetch" href="/advanced_front_end/assets/js/3.8156697c.js"><link rel="prefetch" href="/advanced_front_end/assets/js/30.6304023a.js"><link rel="prefetch" href="/advanced_front_end/assets/js/31.375d59ad.js"><link rel="prefetch" href="/advanced_front_end/assets/js/33.f35c1709.js"><link rel="prefetch" href="/advanced_front_end/assets/js/34.acca759a.js"><link rel="prefetch" href="/advanced_front_end/assets/js/35.513f8f12.js"><link rel="prefetch" href="/advanced_front_end/assets/js/36.d7a4defb.js"><link rel="prefetch" href="/advanced_front_end/assets/js/37.1962c385.js"><link rel="prefetch" href="/advanced_front_end/assets/js/38.9e76f20a.js"><link rel="prefetch" href="/advanced_front_end/assets/js/39.93d1ad90.js"><link rel="prefetch" href="/advanced_front_end/assets/js/4.b34dce43.js"><link rel="prefetch" href="/advanced_front_end/assets/js/40.e297ab03.js"><link rel="prefetch" href="/advanced_front_end/assets/js/41.fb630495.js"><link rel="prefetch" href="/advanced_front_end/assets/js/42.c6cfc63b.js"><link rel="prefetch" href="/advanced_front_end/assets/js/43.f2eeaa38.js"><link rel="prefetch" href="/advanced_front_end/assets/js/44.374722d0.js"><link rel="prefetch" href="/advanced_front_end/assets/js/45.1a7f7f0c.js"><link rel="prefetch" href="/advanced_front_end/assets/js/46.0ff518c8.js"><link rel="prefetch" href="/advanced_front_end/assets/js/47.1fd9dd7f.js"><link rel="prefetch" href="/advanced_front_end/assets/js/48.ca445efa.js"><link rel="prefetch" href="/advanced_front_end/assets/js/49.e9043be1.js"><link rel="prefetch" href="/advanced_front_end/assets/js/5.ccf9b285.js"><link rel="prefetch" href="/advanced_front_end/assets/js/50.e43c66d5.js"><link rel="prefetch" href="/advanced_front_end/assets/js/51.5a4631d6.js"><link rel="prefetch" href="/advanced_front_end/assets/js/52.c7df7d3c.js"><link rel="prefetch" href="/advanced_front_end/assets/js/6.4807fb39.js"><link rel="prefetch" href="/advanced_front_end/assets/js/7.acbbc6b3.js"><link rel="prefetch" href="/advanced_front_end/assets/js/8.351cdbac.js"><link rel="prefetch" href="/advanced_front_end/assets/js/9.19b72861.js">
    <link rel="stylesheet" href="/advanced_front_end/assets/css/0.styles.713cac8f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/advanced_front_end/" class="home-link router-link-active"><!----> <span class="site-name">前端进阶小书</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/advanced_front_end/" class="nav-link">Home</a></div><div class="nav-item"><a href="/advanced_front_end/design_patterns/前言.html" class="nav-link">设计模式</a></div><div class="nav-item"><a href="/advanced_front_end/typescript/1.html" class="nav-link">Typescript</a></div><div class="nav-item"><a href="https://github.com/zxpsuper/advanced_front_end" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/advanced_front_end/" class="nav-link">Home</a></div><div class="nav-item"><a href="/advanced_front_end/design_patterns/前言.html" class="nav-link">设计模式</a></div><div class="nav-item"><a href="/advanced_front_end/typescript/1.html" class="nav-link">Typescript</a></div><div class="nav-item"><a href="https://github.com/zxpsuper/advanced_front_end" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS 大全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/css/cssTips.html" class="sidebar-link">CSS 几个小技巧</a></li><li><a href="/advanced_front_end/book/css/flex.html" class="sidebar-link">Flex布局介绍</a></li><li><a href="/advanced_front_end/book/css/css3.html" class="sidebar-link">CSS3 兼容性处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法与数据结构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/suanfa/binarySearch.html" class="sidebar-link">算法复杂度</a></li><li><a href="/advanced_front_end/book/suanfa/sort.html" class="sidebar-link">排序算法</a></li><li><a href="/advanced_front_end/book/suanfa/dataStructure.html" class="sidebar-link">数据结构</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/browser/https.html" class="sidebar-link">一个故事讲完https</a></li><li><a href="/advanced_front_end/book/browser/static.html" class="sidebar-link">静态资源缓存与更新</a></li><li><a href="/advanced_front_end/book/browser/cache.html" class="sidebar-link">协商缓存与强缓存</a></li><li><a href="/advanced_front_end/book/browser/cors.html" class="sidebar-link">跨域资源共享 CORS 详解</a></li><li><a href="/advanced_front_end/book/browser/eventloop.html" class="sidebar-link">浏览器 Event Loop 机制</a></li><li><a href="/advanced_front_end/book/browser/urlrender.html" class="sidebar-link">输入URL至页面渲染</a></li><li><a href="/advanced_front_end/book/browser/garbage.html" class="sidebar-link">浏览器内存回收机制</a></li><li><a href="/advanced_front_end/book/browser/garbagerefuse.html" class="sidebar-link">内存泄漏与避免</a></li><li><a href="/advanced_front_end/book/browser/safe.html" class="sidebar-link">前端网络安全</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/vue/vue.html" class="sidebar-link">Vue 双向数据绑定原理</a></li><li><a href="/advanced_front_end/book/vue/router.html" class="sidebar-link">Vue-router 原理</a></li><li><a href="/advanced_front_end/book/vue/vueplugin.html" class="sidebar-link">Vue 编写一个长按指令插件</a></li><li><a href="/advanced_front_end/book/vue/vuedate.html" class="sidebar-link">vue 手写一个时间选择器</a></li><li><a href="/advanced_front_end/book/vue/computedvswatch.html" class="sidebar-link">Vue 中的 computed 与 watch 对比</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/js/use_strict.html" class="sidebar-link">Use Strict</a></li><li><a href="/advanced_front_end/book/js/amd_commonjs.html" class="sidebar-link">Javascript 模块化</a></li><li><a href="/advanced_front_end/book/js/seajs.html" class="sidebar-link">sea.js</a></li><li><a href="/advanced_front_end/book/js/design.html" class="sidebar-link">设计模式</a></li><li><a href="/advanced_front_end/book/js/regular_expression.html" class="sidebar-link">正则表达式</a></li><li><a href="/advanced_front_end/book/js/inherit.html" class="sidebar-link">继承的几种实现方式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Canvas</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/canvas/canvas1.html" class="sidebar-link">二维码的生成与扫码识别</a></li><li><a href="/advanced_front_end/book/canvas/canvas2.html" class="sidebar-link">写一个生成带logo的二维码npm插件</a></li><li><a href="/advanced_front_end/book/canvas/canvas3.html" class="sidebar-link">ts + canvas 重写”辨色“小游戏</a></li><li><a href="/advanced_front_end/book/canvas/canvas4.html" class="sidebar-link">实现一个“刮刮乐”游戏</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>一些插件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/plugin/carousal.html" class="sidebar-link">一款轮播组件的诞生</a></li><li><a href="/advanced_front_end/book/plugin/underscore.html" class="sidebar-link">如何写自己的 underscore</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced_front_end/book/other/git.html" class="active sidebar-link">GIT 操作总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/advanced_front_end/book/other/git.html#_1-git-版本回退" class="sidebar-link">1. git 版本回退</a></li></ul></li><li><a href="/advanced_front_end/book/other/linux.html" class="sidebar-link">前端必备 linux 命令</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-操作总结"><a href="#git-操作总结" aria-hidden="true" class="header-anchor">#</a> GIT 操作总结</h1> <h2 id="_1-git-版本回退"><a href="#_1-git-版本回退" aria-hidden="true" class="header-anchor">#</a> 1. git 版本回退</h2> <h3 id="三棵树"><a href="#三棵树" aria-hidden="true" class="header-anchor">#</a> 三棵树</h3> <p>首先来了解三棵树</p> <table><thead><tr><th style="text-align:center;">树</th> <th style="text-align:center;">用途</th></tr></thead> <tbody><tr><td style="text-align:center;">HEAD</td> <td style="text-align:center;">上一次提交的快照，下一次提交的父结点</td></tr> <tr><td style="text-align:center;">Index</td> <td style="text-align:center;">git add [filename] 存放的索引（暂存区）</td></tr> <tr><td style="text-align:center;">Working Directory</td> <td style="text-align:center;">工作区</td></tr></tbody></table> <h4 id="_1-在我们修改代码，没有-git-add-也没有-git-commit-的时候，代码存在于工作区，如图"><a href="#_1-在我们修改代码，没有-git-add-也没有-git-commit-的时候，代码存在于工作区，如图" aria-hidden="true" class="header-anchor">#</a> 1. 在我们修改代码，没有 git add, 也没有 git commit 的时候，代码存在于工作区，如图</h4> <p><img src="https://user-gold-cdn.xitu.io/2019/3/13/16975a2ff36abc3c?w=679&amp;h=521&amp;f=png&amp;s=31765" alt=""></p> <h4 id="_2-当你-git-add-file-txt-的时候，索引区-index-便有了此文件"><a href="#_2-当你-git-add-file-txt-的时候，索引区-index-便有了此文件" aria-hidden="true" class="header-anchor">#</a> 2. 当你 <code>git add file.txt</code> 的时候，索引区 index 便有了此文件</h4> <p><img src="https://user-gold-cdn.xitu.io/2019/3/13/16975a7d3a41dec1?w=672&amp;h=572&amp;f=png&amp;s=42432" alt=""></p> <h4 id="_3-接着运行-git-commit，它会取得索引中的内容并将它保存为一个永久的快照，然后创建一个指向该快照的提交对象，最后更新-master-来指向本次提交。"><a href="#_3-接着运行-git-commit，它会取得索引中的内容并将它保存为一个永久的快照，然后创建一个指向该快照的提交对象，最后更新-master-来指向本次提交。" aria-hidden="true" class="header-anchor">#</a> 3. 接着运行 git commit，它会取得索引中的内容并将它保存为一个永久的快照，然后创建一个指向该快照的提交对象，最后更新 master 来指向本次提交。</h4> <p><img src="https://user-gold-cdn.xitu.io/2019/3/13/16975abdedaffd11?w=681&amp;h=581&amp;f=png&amp;s=58542" alt=""></p> <h4 id="_4-修改文件也是按照-file-——（change）——-working-directory-——（git-add）——-index-——（commit）——-head-的顺序进行，当然我们可以使用-git-status来查看当前所处的步骤"><a href="#_4-修改文件也是按照-file-——（change）——-working-directory-——（git-add）——-index-——（commit）——-head-的顺序进行，当然我们可以使用-git-status来查看当前所处的步骤" aria-hidden="true" class="header-anchor">#</a> 4. 修改文件也是按照 file ——（change）—— Working Directory ——（git add）—— Index ——（commit）—— HEAD 的顺序进行，当然我们可以使用 <code>git status</code>来查看当前所处的步骤</h4> <h3 id="git-reset-的作用"><a href="#git-reset-的作用" aria-hidden="true" class="header-anchor">#</a> git reset 的作用</h3> <p>为了演示这些例子，假设我们再次修改了 file.txt 文件并第三次提交它。 现在的历史看起来是这样的：</p> <p><img src="https://user-gold-cdn.xitu.io/2019/3/13/16975b42fae5c123?w=676&amp;h=545&amp;f=png&amp;s=71768" alt=""></p> <p>git reset 的作用便是将 HEAD 指向的版本进行变更，不同的参数三棵树的状况不一样</p> <p>写法 <code>git reset HEAD~2</code> <code>git reset 4564sf5s</code></p> <ol><li><code>git reset --soft HEAD</code></li></ol> <p>Git重置HEAD到另外一个commit，索引区index，工作区无变化</p> <ol start="2"><li><code>git reset HEAD</code></li></ol> <p>即 git reset --mixed HEAD , 它将重置HEAD到另外一个commit,并且重置index以便和HEAD相匹配，工作区无变化。</p> <ol start="3"><li><code>git reset --hard</code></li></ol> <p>--hard参数将会 blow out everything.它将重置HEAD返回到另外一个commit，重置index以便反映HEAD的变化，并且重置工作区也使得其完全匹配起来。</p> <p>这是一个比较危险的动作，具有破坏性，数据因此可能会丢失！如果真是发生了数据丢失又希望找回来，那么只有使用：git reflog命令了。</p> <comment></comment></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/advanced_front_end/book/plugin/underscore.html" class="prev">
          如何写自己的 underscore
        </a></span> <span class="next"><a href="/advanced_front_end/book/other/linux.html">
          前端必备 linux 命令
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/advanced_front_end/assets/js/app.45d63f7a.js" defer></script><script src="/advanced_front_end/assets/js/2.56065b10.js" defer></script><script src="/advanced_front_end/assets/js/32.eb644235.js" defer></script>
  </body>
</html>
